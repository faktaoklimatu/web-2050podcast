<!doctype html>
<html lang="cs">
<head>
  {% include 2050/header.html %}
</head>

<body>
  {% include 2050/navigation.html %}
  {% assign tag = site.data.tags | where: "id", page.title | first %}
  <main id="page-tag">
    <div class="section intro pb-4 pt-4">
      <div class="container">
          <span class="tagline">all-tags-captions</span>
          <div class="tags-list clearfix">
            <div class="float-lg-left">
              TODO: List all tags
              {% comment %}
              {% assign tags-scopes-all = site.data.tags_categorized.tags-scopes | map: "id" %}
              {% include 2050/tags.html tags=tags-scopes-all link="true" name-long="true" container-class="mt-2" highlighted=tag.id %}
              {% assign tags-topics-all = site.data.tags_categorized.tags-topics | map: "id" %}
              {% include 2050/tags.html tags=tags-topics-all link="true" highlighted=tag.id %}
              {% endcomment %}
            </div>
            <a href="/" class="btn btn-secondary ml-0 ml-md-1 mt-lg-4 float-lg-right"><i class="fas fa-fw fa-times"></i> Zpět na hlavní stránku</a>
          </div>
      </div>
    </div>
    <div class="section">
      <div class="container clearfix">
        <h1>Téma: {{ tag.long-name | capitalize }}</h1>
        {% if tag.description %}
          <span class="lead">{{ tag.description | markdownify }}</span>
        {% else %}
          <p class="lead">{% if tag.is-scope %}{{ site.data.lang.tag.all-scope }}{% else %}{{ site.data.lang.tag.all-topic }}{% endif %} "{{ tag.name-long }}".</p>
        {% endif %}

        {% assign sorted_episodes = site.episodes | where_exp: "item", "item.number > 0" |
            where_exp: "item", "item.tags contains tag.id" | sort: "number" | reverse %}
        {% for episode in sorted_episodes %}
        {% include 2050/episode-preview.html episode=episode %}
        {% endfor %}
      </div>
    </div>
  </main>
  {% include 2050/footer.html %}
  {% include 2050/scripts.html %}
</body>
</html>
